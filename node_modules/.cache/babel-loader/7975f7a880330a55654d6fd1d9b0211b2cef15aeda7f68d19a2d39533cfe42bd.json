{"ast":null,"code":"import logo from'./logo.svg';import'./App.css';import weatherService from'./services/weatherService';import SearchBar from'./components/SearchBar';import WeatherCard from'./components/WeatherCard';import ForecastCard from'./components/ForecastCard';import TemperatureToggle from'./components/TemperatureToggle';import FavoriteLocations from'./components/FavoriteLocations';import{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[searchQuery,setSearchQuery]=useState('');const[loading,setLoading]=useState(true);const[weatherData,setWeatherData]=useState(null);const[isCelsius,setIsCelsius]=useState(true);const[favoriteLocations,setFavoriteLocations]=useState([]);const[error,setError]=useState(null);const handleSearch=async query=>{setSearchQuery(query);try{const data=await weatherService.getWeatherData(query);setWeatherData(data);}catch(error){console.error('Error fetching weather data:',error);}};const loadUserLocation=async()=>{try{setLoading(true);setError(null);const coords=await weatherService.getCurrentLocation();const data=await weatherService.getWeatherData(\"\".concat(coords.lat,\",\").concat(coords.lon));setWeatherData(data);setLoading(false);}catch(error){console.error('Error fetching weather data:',error);setError(error.message);setLoading(false);}};useEffect(()=>{const savedFavorites=localStorage.getItem('weatherFavorites');if(savedFavorites){setFavoriteLocations(JSON.parse(savedFavorites));}loadUserLocation();},[]);const handleTemperatureToggle=()=>{setIsCelsius(!isCelsius);};const handleAddFavorite=location=>{const newFavorite={id:Date.now(),name:location.name,region:location.region,country:location.country,lat:location.lat,lon:location.lon};const updatedFavorites=[...favoriteLocations,newFavorite];setFavoriteLocations(updatedFavorites);localStorage.setItem('weatherFavorites',JSON.stringify(updatedFavorites));};const handleRemoveFavorite=location=>{const updatedFavorites=favoriteLocations.filter(loc=>loc.id!==location.id);setFavoriteLocations(updatedFavorites);localStorage.setItem('weatherFavorites',JSON.stringify(updatedFavorites));};const handleSelectFavorite=favorite=>{handleSearch(\"\".concat(favorite.name,\",\").concat(favorite.region,\",\").concat(favorite.country));};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Weather App\"}),/*#__PURE__*/_jsx(TemperatureToggle,{isCelsius:isCelsius,onToggle:handleTemperatureToggle})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"app-main\",children:[/*#__PURE__*/_jsx(SearchBar,{onSearch:handleSearch}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading weather data...\"}):error?/*#__PURE__*/_jsxs(\"p\",{children:[\"Error: \",error]}):weatherData?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(WeatherCard,{location:weatherData.location,current:weatherData.current,isCelsius:isCelsius,onAddFavorite:handleAddFavorite,onRemoveFavorite:handleRemoveFavorite}),/*#__PURE__*/_jsx(ForecastCard,{forecast:weatherData.forecast.forecastday,isCelsius:isCelsius}),/*#__PURE__*/_jsx(FavoriteLocations,{favoriteLocations:favoriteLocations,onSelectFavorite:handleSelectFavorite,onRemoveFavorite:handleRemoveFavorite})]}):null]}),/*#__PURE__*/_jsx(\"img\",{src:logo,className:\"App-logo\",alt:\"logo\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Edit \",/*#__PURE__*/_jsx(\"code\",{children:\"src/App.js\"}),\" and save to reload.\"]}),/*#__PURE__*/_jsx(\"a\",{className:\"App-link\",href:\"https://reactjs.org\",target:\"_blank\",rel:\"noopener noreferrer\",children:\"Learn React\"})]});}export default App;","map":{"version":3,"names":["logo","weatherService","SearchBar","WeatherCard","ForecastCard","TemperatureToggle","FavoriteLocations","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","searchQuery","setSearchQuery","loading","setLoading","weatherData","setWeatherData","isCelsius","setIsCelsius","favoriteLocations","setFavoriteLocations","error","setError","handleSearch","query","data","getWeatherData","console","loadUserLocation","coords","getCurrentLocation","concat","lat","lon","message","savedFavorites","localStorage","getItem","JSON","parse","handleTemperatureToggle","handleAddFavorite","location","newFavorite","id","Date","now","name","region","country","updatedFavorites","setItem","stringify","handleRemoveFavorite","filter","loc","handleSelectFavorite","favorite","className","children","onToggle","onSearch","current","onAddFavorite","onRemoveFavorite","forecast","forecastday","onSelectFavorite","src","alt","href","target","rel"],"sources":["C:/Users/shant/Documents/weather-app/src/App.js"],"sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport weatherService from './services/weatherService';\nimport SearchBar from './components/SearchBar';\nimport WeatherCard from './components/WeatherCard';\nimport ForecastCard from './components/ForecastCard';\nimport TemperatureToggle from './components/TemperatureToggle';\nimport FavoriteLocations from './components/FavoriteLocations';\nimport { useState, useEffect } from 'react';\n\nfunction App() {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [weatherData, setWeatherData] = useState(null);\n  const [isCelsius, setIsCelsius] = useState(true);\n  const [favoriteLocations, setFavoriteLocations] = useState([]);\n  const [error, setError] = useState(null);\n\n  const handleSearch = async (query) => {\n    setSearchQuery(query);\n    try {\n      const data = await weatherService.getWeatherData(query);\n      setWeatherData(data);\n    } catch (error) {\n      console.error('Error fetching weather data:', error);\n    }\n  };\n  const loadUserLocation = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const coords = await weatherService.getCurrentLocation();\n      const data = await weatherService.getWeatherData(`${coords.lat},${coords.lon}`);\n      setWeatherData(data);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching weather data:', error);\n      setError(error.message);\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    const savedFavorites = localStorage.getItem('weatherFavorites');\n    if (savedFavorites) {\n      setFavoriteLocations(JSON.parse(savedFavorites));\n    }\n    loadUserLocation();\n  }, []);\n  const handleTemperatureToggle = () => {\n    setIsCelsius(!isCelsius);\n  };\n\n  const handleAddFavorite = (location) => {\n    const newFavorite = {\n      id: Date.now(),\n      name: location.name,\n      region: location.region,\n      country: location.country,\n      lat: location.lat,\n      lon: location.lon,\n    };\n    const updatedFavorites = [...favoriteLocations, newFavorite];\n    setFavoriteLocations(updatedFavorites);\n    localStorage.setItem('weatherFavorites', JSON.stringify(updatedFavorites));\n  };\n\n  const handleRemoveFavorite = (location) => {\n    const updatedFavorites = favoriteLocations.filter((loc) => loc.id !== location.id);\n    setFavoriteLocations(updatedFavorites);\n    localStorage.setItem('weatherFavorites', JSON.stringify(updatedFavorites));\n  };\n\n  const handleSelectFavorite = (favorite) => {\n    handleSearch(`${favorite.name},${favorite.region},${favorite.country}`);\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>Weather App</h1>\n        <TemperatureToggle\n          isCelsius={isCelsius}\n          onToggle={handleTemperatureToggle}\n        />\n      </header>\n      <main className=\"app-main\">\n        <SearchBar onSearch={handleSearch} />\n        {loading ? (\n          <p>Loading weather data...</p>\n        ) : error ? (\n          <p>Error: {error}</p>\n        ) : weatherData ? (\n          <>\n            <WeatherCard\n              location={weatherData.location}\n              current={weatherData.current}\n              isCelsius={isCelsius}\n              onAddFavorite={handleAddFavorite}\n              onRemoveFavorite={handleRemoveFavorite}\n            />\n            <ForecastCard\n              forecast={weatherData.forecast.forecastday}\n              isCelsius={isCelsius}\n            />\n            <FavoriteLocations\n              favoriteLocations={favoriteLocations}\n              onSelectFavorite={handleSelectFavorite}\n              onRemoveFavorite={handleRemoveFavorite}\n            />\n          </>\n        ) : null}\n      </main>\n      <img src={logo} className=\"App-logo\" alt=\"logo\" />\n      <p>\n        Edit <code>src/App.js</code> and save to reload.\n      </p>\n      <a\n        className=\"App-link\"\n        href=\"https://reactjs.org\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        Learn React\n      </a>\n\n    </div >\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}