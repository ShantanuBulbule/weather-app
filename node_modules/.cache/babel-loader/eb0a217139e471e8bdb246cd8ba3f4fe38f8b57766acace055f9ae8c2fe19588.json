{"ast":null,"code":"import axios from'axios';const API_KEY=process.env.REACT_APP_WEATHER_API_KEY;const BASE_URL=process.env.REACT_APP_WEATHER_API_URL;class WeatherService{/**\r\n     * Fetch current weather and forecast for a location\r\n     * @param {string} location - City name or coordinates \"lat,lon\"\r\n     * @returns {Promise} Weather data object\r\n     */async getWeatherData(location){try{const response=await axios.get(\"\".concat(BASE_URL,\"/forecast.json?key=\").concat(API_KEY),{params:{q:location,days:2,aqi:'no'}});console.log(response.request.responseURL);return response.data;}catch(error){var _error$response,_error$response$data,_error$response$data$;console.error('Error fetching weather data:',error);throw new Error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:(_error$response$data$=_error$response$data.error)===null||_error$response$data$===void 0?void 0:_error$response$data$.message)||'Failed to fetch weather data');}}/**\r\n     * Search for locations (autocomplete)\r\n     * @param {string} query - Search query\r\n     * @returns {Promise} Array of matching locations\r\n     */async searchLocations(query){try{const response=await axios.get(\"\".concat(BASE_URL,\"/search.json?\"),{params:{key:API_KEY,q:query}});return response.data;}catch(error){console.error('Error searching locations:',error);throw error;}}/**\r\n     * Get user's current location using browser geolocation\r\n     * @returns {Promise} Coordinates object {lat, lon}\r\n     */async getCurrentLocation(){return new Promise((resolve,reject)=>{if(!navigator.geolocation){reject(new Error('Geolocation not supported'));return;}navigator.geolocation.getCurrentPosition(position=>{resolve({lat:position.coords.latitude,lon:position.coords.longitude});},error=>{reject(error);});});}}export default new WeatherService();","map":{"version":3,"names":["axios","API_KEY","process","env","REACT_APP_WEATHER_API_KEY","BASE_URL","REACT_APP_WEATHER_API_URL","WeatherService","getWeatherData","location","response","get","concat","params","q","days","aqi","console","log","request","responseURL","data","error","_error$response","_error$response$data","_error$response$data$","Error","message","searchLocations","query","key","getCurrentLocation","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","position","lat","coords","latitude","lon","longitude"],"sources":["C:/Users/shant/Documents/weather-app/src/services/weatherService.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_KEY = process.env.REACT_APP_WEATHER_API_KEY;\r\nconst BASE_URL = process.env.REACT_APP_WEATHER_API_URL;\r\n\r\nclass WeatherService {\r\n    /**\r\n     * Fetch current weather and forecast for a location\r\n     * @param {string} location - City name or coordinates \"lat,lon\"\r\n     * @returns {Promise} Weather data object\r\n     */\r\n    async getWeatherData(location) {\r\n        try {\r\n            const response = await axios.get(`${BASE_URL}/forecast.json?key=${API_KEY}`, {\r\n                params: {\r\n                    q: location,\r\n                    days: 2,\r\n                    aqi: 'no'\r\n                }\r\n            });\r\n            console.log(response.request.responseURL);\r\n            return response.data;\r\n        } catch (error) {\r\n            console.error('Error fetching weather data:', error);\r\n            throw new Error(\r\n                error.response?.data?.error?.message || 'Failed to fetch weather data'\r\n            );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Search for locations (autocomplete)\r\n     * @param {string} query - Search query\r\n     * @returns {Promise} Array of matching locations\r\n     */\r\n    async searchLocations(query) {\r\n        try {\r\n            const response = await axios.get(`${BASE_URL}/search.json?`, {\r\n                params: {\r\n                    key: API_KEY,\r\n                    q: query\r\n                }\r\n            });\r\n            return response.data;\r\n        } catch (error) {\r\n            console.error('Error searching locations:', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get user's current location using browser geolocation\r\n     * @returns {Promise} Coordinates object {lat, lon}\r\n     */\r\n    async getCurrentLocation() {\r\n        return new Promise((resolve, reject) => {\r\n            if (!navigator.geolocation) {\r\n                reject(new Error('Geolocation not supported'));\r\n                return;\r\n            }\r\n\r\n            navigator.geolocation.getCurrentPosition(\r\n                (position) => {\r\n                    resolve({\r\n                        lat: position.coords.latitude,\r\n                        lon: position.coords.longitude\r\n                    });\r\n                },\r\n                (error) => {\r\n                    reject(error);\r\n                }\r\n            );\r\n        });\r\n    }\r\n}\r\n\r\nexport default new WeatherService();\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,KAAM,CAAAC,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,yBAAyB,CACrD,KAAM,CAAAC,QAAQ,CAAGH,OAAO,CAACC,GAAG,CAACG,yBAAyB,CAEtD,KAAM,CAAAC,cAAe,CACjB;AACJ;AACA;AACA;AACA,OACI,KAAM,CAAAC,cAAcA,CAACC,QAAQ,CAAE,CAC3B,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAV,KAAK,CAACW,GAAG,IAAAC,MAAA,CAAIP,QAAQ,wBAAAO,MAAA,CAAsBX,OAAO,EAAI,CACzEY,MAAM,CAAE,CACJC,CAAC,CAAEL,QAAQ,CACXM,IAAI,CAAE,CAAC,CACPC,GAAG,CAAE,IACT,CACJ,CAAC,CAAC,CACFC,OAAO,CAACC,GAAG,CAACR,QAAQ,CAACS,OAAO,CAACC,WAAW,CAAC,CACzC,MAAO,CAAAV,QAAQ,CAACW,IAAI,CACxB,CAAE,MAAOC,KAAK,CAAE,KAAAC,eAAA,CAAAC,oBAAA,CAAAC,qBAAA,CACZR,OAAO,CAACK,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACpD,KAAM,IAAI,CAAAI,KAAK,CACX,EAAAH,eAAA,CAAAD,KAAK,CAACZ,QAAQ,UAAAa,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgBF,IAAI,UAAAG,oBAAA,kBAAAC,qBAAA,CAApBD,oBAAA,CAAsBF,KAAK,UAAAG,qBAAA,iBAA3BA,qBAAA,CAA6BE,OAAO,GAAI,8BAC5C,CAAC,CACL,CACJ,CAEA;AACJ;AACA;AACA;AACA,OACI,KAAM,CAAAC,eAAeA,CAACC,KAAK,CAAE,CACzB,GAAI,CACA,KAAM,CAAAnB,QAAQ,CAAG,KAAM,CAAAV,KAAK,CAACW,GAAG,IAAAC,MAAA,CAAIP,QAAQ,kBAAiB,CACzDQ,MAAM,CAAE,CACJiB,GAAG,CAAE7B,OAAO,CACZa,CAAC,CAAEe,KACP,CACJ,CAAC,CAAC,CACF,MAAO,CAAAnB,QAAQ,CAACW,IAAI,CACxB,CAAE,MAAOC,KAAK,CAAE,CACZL,OAAO,CAACK,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CAClD,KAAM,CAAAA,KAAK,CACf,CACJ,CAEA;AACJ;AACA;AACA,OACI,KAAM,CAAAS,kBAAkBA,CAAA,CAAG,CACvB,MAAO,IAAI,CAAAC,OAAO,CAAC,CAACC,OAAO,CAAEC,MAAM,GAAK,CACpC,GAAI,CAACC,SAAS,CAACC,WAAW,CAAE,CACxBF,MAAM,CAAC,GAAI,CAAAR,KAAK,CAAC,2BAA2B,CAAC,CAAC,CAC9C,OACJ,CAEAS,SAAS,CAACC,WAAW,CAACC,kBAAkB,CACnCC,QAAQ,EAAK,CACVL,OAAO,CAAC,CACJM,GAAG,CAAED,QAAQ,CAACE,MAAM,CAACC,QAAQ,CAC7BC,GAAG,CAAEJ,QAAQ,CAACE,MAAM,CAACG,SACzB,CAAC,CAAC,CACN,CAAC,CACArB,KAAK,EAAK,CACPY,MAAM,CAACZ,KAAK,CAAC,CACjB,CACJ,CAAC,CACL,CAAC,CAAC,CACN,CACJ,CAEA,cAAe,IAAI,CAAAf,cAAc,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}