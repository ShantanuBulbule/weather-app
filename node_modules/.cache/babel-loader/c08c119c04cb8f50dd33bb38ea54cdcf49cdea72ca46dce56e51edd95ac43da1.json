{"ast":null,"code":"import React,{useState,useEffect}from'react';import weatherService from'./services/weatherService';import SearchBar from'./components/SearchBar/SearchBar';import WeatherCard from'./components/WeatherCard/WeatherCard';import ForecastCard from'./components/ForecastCard/ForecastCard';import TemperatureToggle from'./components/TemperatureToggle/TemperatureToggle';import FavoriteLocations from'./components/FavoriteLocations/FavoriteLocations';import'./App.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function App(){const[weatherData,setWeatherData]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[isCelsius,setIsCelsius]=useState(true);const[favorites,setFavorites]=useState([]);// Load favorites from localStorage on mount\nuseEffect(()=>{const savedFavorites=localStorage.getItem('weatherFavorites');if(savedFavorites){setFavorites(JSON.parse(savedFavorites));}// Get user's location on initial load\nloadUserLocation();},[]);const loadUserLocation=async()=>{try{setLoading(true);setError(null);const coords=await weatherService.getCurrentLocation();const data=await weatherService.getWeatherData(\"\".concat(coords.lat,\",\").concat(coords.lon));setWeatherData(data);}catch(err){// Fallback to default location if geolocation fails\nconsole.warn('Geolocation failed, using default location');handleLocationSearch('New York');}finally{setLoading(false);}};const handleLocationSearch=async location=>{try{setLoading(true);setError(null);const data=await weatherService.getWeatherData(location);setWeatherData(data);}catch(err){setError(err.message);}finally{setLoading(false);}};const handleToggleUnit=()=>{setIsCelsius(!isCelsius);};const handleAddFavorite=location=>{const newFavorite={id:Date.now(),name:location.name,region:location.region,country:location.country};const updatedFavorites=[...favorites,newFavorite];setFavorites(updatedFavorites);localStorage.setItem('weatherFavorites',JSON.stringify(updatedFavorites));};const handleRemoveFavorite=id=>{const updatedFavorites=favorites.filter(fav=>fav.id!==id);setFavorites(updatedFavorites);localStorage.setItem('weatherFavorites',JSON.stringify(updatedFavorites));};const handleSelectFavorite=favorite=>{handleLocationSearch(\"\".concat(favorite.name,\", \").concat(favorite.country));};return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"app-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Weather App\"}),/*#__PURE__*/_jsx(TemperatureToggle,{isCelsius:isCelsius,onToggle:handleToggleUnit})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"app-main\",children:[/*#__PURE__*/_jsx(SearchBar,{onSearch:handleLocationSearch}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading weather data...\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}),weatherData&&!loading&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"weather-container\",children:[/*#__PURE__*/_jsx(WeatherCard,{data:weatherData.current,location:weatherData.location,isCelsius:isCelsius,onAddFavorite:()=>handleAddFavorite(weatherData.location)}),/*#__PURE__*/_jsx(ForecastCard,{data:weatherData.forecast.forecastday[1],isCelsius:isCelsius})]}),/*#__PURE__*/_jsx(FavoriteLocations,{favorites:favorites,onSelect:handleSelectFavorite,onRemove:handleRemoveFavorite})]})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","weatherService","SearchBar","WeatherCard","ForecastCard","TemperatureToggle","FavoriteLocations","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","weatherData","setWeatherData","loading","setLoading","error","setError","isCelsius","setIsCelsius","favorites","setFavorites","savedFavorites","localStorage","getItem","JSON","parse","loadUserLocation","coords","getCurrentLocation","data","getWeatherData","concat","lat","lon","err","console","warn","handleLocationSearch","location","message","handleToggleUnit","handleAddFavorite","newFavorite","id","Date","now","name","region","country","updatedFavorites","setItem","stringify","handleRemoveFavorite","filter","fav","handleSelectFavorite","favorite","className","children","onToggle","onSearch","current","onAddFavorite","forecast","forecastday","onSelect","onRemove"],"sources":["C:/Users/shant/Documents/weather-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport weatherService from './services/weatherService';\r\nimport SearchBar from './components/SearchBar/SearchBar';\r\nimport WeatherCard from './components/WeatherCard/WeatherCard';\r\nimport ForecastCard from './components/ForecastCard/ForecastCard';\r\nimport TemperatureToggle from './components/TemperatureToggle/TemperatureToggle';\r\nimport FavoriteLocations from './components/FavoriteLocations/FavoriteLocations';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  const [weatherData, setWeatherData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [isCelsius, setIsCelsius] = useState(true);\r\n  const [favorites, setFavorites] = useState([]);\r\n\r\n  // Load favorites from localStorage on mount\r\n  useEffect(() => {\r\n    const savedFavorites = localStorage.getItem('weatherFavorites');\r\n    if (savedFavorites) {\r\n      setFavorites(JSON.parse(savedFavorites));\r\n    }\r\n\r\n    // Get user's location on initial load\r\n    loadUserLocation();\r\n  }, []);\r\n\r\n  const loadUserLocation = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const coords = await weatherService.getCurrentLocation();\r\n      const data = await weatherService.getWeatherData(`${coords.lat},${coords.lon}`);\r\n      setWeatherData(data);\r\n    } catch (err) {\r\n      // Fallback to default location if geolocation fails\r\n      console.warn('Geolocation failed, using default location');\r\n      handleLocationSearch('New York');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLocationSearch = async (location) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const data = await weatherService.getWeatherData(location);\r\n      setWeatherData(data);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleToggleUnit = () => {\r\n    setIsCelsius(!isCelsius);\r\n  };\r\n\r\n  const handleAddFavorite = (location) => {\r\n    const newFavorite = {\r\n      id: Date.now(),\r\n      name: location.name,\r\n      region: location.region,\r\n      country: location.country\r\n    };\r\n\r\n    const updatedFavorites = [...favorites, newFavorite];\r\n    setFavorites(updatedFavorites);\r\n    localStorage.setItem('weatherFavorites', JSON.stringify(updatedFavorites));\r\n  };\r\n\r\n  const handleRemoveFavorite = (id) => {\r\n    const updatedFavorites = favorites.filter(fav => fav.id !== id);\r\n    setFavorites(updatedFavorites);\r\n    localStorage.setItem('weatherFavorites', JSON.stringify(updatedFavorites));\r\n  };\r\n\r\n  const handleSelectFavorite = (favorite) => {\r\n    handleLocationSearch(`${favorite.name}, ${favorite.country}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <header className=\"app-header\">\r\n        <h1>Weather App</h1>\r\n        <TemperatureToggle\r\n          isCelsius={isCelsius}\r\n          onToggle={handleToggleUnit}\r\n        />\r\n      </header>\r\n\r\n      <main className=\"app-main\">\r\n        <SearchBar onSearch={handleLocationSearch} />\r\n\r\n        {loading && <div className=\"loading\">Loading weather data...</div>}\r\n\r\n        {error && <div className=\"error\">{error}</div>}\r\n\r\n        {weatherData && !loading && (\r\n          <>\r\n            <div className=\"weather-container\">\r\n              <WeatherCard\r\n                data={weatherData.current}\r\n                location={weatherData.location}\r\n                isCelsius={isCelsius}\r\n                onAddFavorite={() => handleAddFavorite(weatherData.location)}\r\n              />\r\n\r\n              <ForecastCard\r\n                data={weatherData.forecast.forecastday[1]}\r\n                isCelsius={isCelsius}\r\n              />\r\n            </div>\r\n\r\n            <FavoriteLocations\r\n              favorites={favorites}\r\n              onSelect={handleSelectFavorite}\r\n              onRemove={handleRemoveFavorite}\r\n            />\r\n          </>\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}