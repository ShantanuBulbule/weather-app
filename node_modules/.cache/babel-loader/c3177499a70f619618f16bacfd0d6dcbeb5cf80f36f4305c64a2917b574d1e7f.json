{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shant\\\\Documents\\\\weather-app\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport weatherService from './services/weatherService';\nimport SearchBar from './components/SearchBar/SearchBar';\nimport WeatherCard from './components/WeatherCard/WeatherCard';\nimport ForecastCard from './components/ForecastCard/ForecastCard';\nimport TemperatureToggle from './components/TemperatureToggle/TemperatureToggle';\nimport FavoriteLocations from './components/FavoriteLocations/FavoriteLocations';\nimport './App.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [weatherData, setWeatherData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [isCelsius, setIsCelsius] = useState(true);\n  const [favorites, setFavorites] = useState([]);\n\n  // Load favorites from localStorage on mount\n  useEffect(() => {\n    const savedFavorites = localStorage.getItem('weatherFavorites');\n    if (savedFavorites) {\n      setFavorites(JSON.parse(savedFavorites));\n    }\n\n    // Get user's location on initial load\n    loadUserLocation();\n    // eslint-disable-next-line\n  }, []);\n  const loadUserLocation = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const coords = await weatherService.getCurrentLocation();\n      const data = await weatherService.getWeatherData(`${coords.lat},${coords.lon}`);\n      setWeatherData(data);\n    } catch (err) {\n      // Fallback to default location if geolocation fails\n      console.warn('Geolocation failed, using default location');\n      handleLocationSearch('New York');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleLocationSearch = async location => {\n    try {\n      setLoading(true);\n      setError(null);\n      const data = await weatherService.getWeatherData(location);\n      setWeatherData(data);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleToggleUnit = () => {\n    setIsCelsius(!isCelsius);\n  };\n  const handleAddFavorite = location => {\n    if (favorites.some(fav => fav.name === location.name && fav.region === location.region && fav.country === location.country)) {\n      alert('Location already added to favorites');\n      return;\n    } else {\n      const newFavorite = {\n        id: Date.now(),\n        name: location.name,\n        region: location.region,\n        country: location.country\n      };\n      const updatedFavorites = [...favorites, newFavorite];\n      setFavorites(updatedFavorites);\n      localStorage.setItem('weatherFavorites', JSON.stringify(updatedFavorites));\n    }\n  };\n  const handleRemoveFavorite = id => {\n    const updatedFavorites = favorites.filter(fav => fav.id !== id);\n    setFavorites(updatedFavorites);\n    localStorage.setItem('weatherFavorites', JSON.stringify(updatedFavorites));\n  };\n  const handleSelectFavorite = favorite => {\n    handleLocationSearch(`${favorite.name}, ${favorite.country}`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Weather App\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TemperatureToggle, {\n        isCelsius: isCelsius,\n        onToggle: handleToggleUnit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"app-main\",\n      children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n        onSearch: handleLocationSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"Loading weather data...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 19\n      }, this), weatherData && !loading && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"weather-container\",\n          children: [/*#__PURE__*/_jsxDEV(WeatherCard, {\n            data: weatherData.current,\n            location: weatherData.location,\n            isCelsius: isCelsius,\n            onAddFavorite: () => handleAddFavorite(weatherData.location)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ForecastCard, {\n            data: weatherData.forecast.forecastday[1],\n            isCelsius: isCelsius\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FavoriteLocations, {\n          favorites: favorites,\n          onSelect: handleSelectFavorite,\n          onRemove: handleRemoveFavorite\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"gB+LhF8ZSnai7IQGaz+ugglYItk=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","weatherService","SearchBar","WeatherCard","ForecastCard","TemperatureToggle","FavoriteLocations","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","weatherData","setWeatherData","loading","setLoading","error","setError","isCelsius","setIsCelsius","favorites","setFavorites","savedFavorites","localStorage","getItem","JSON","parse","loadUserLocation","coords","getCurrentLocation","data","getWeatherData","lat","lon","err","console","warn","handleLocationSearch","location","message","handleToggleUnit","handleAddFavorite","some","fav","name","region","country","alert","newFavorite","id","Date","now","updatedFavorites","setItem","stringify","handleRemoveFavorite","filter","handleSelectFavorite","favorite","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onToggle","onSearch","current","onAddFavorite","forecast","forecastday","onSelect","onRemove","_c","$RefreshReg$"],"sources":["C:/Users/shant/Documents/weather-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport weatherService from './services/weatherService';\r\nimport SearchBar from './components/SearchBar/SearchBar';\r\nimport WeatherCard from './components/WeatherCard/WeatherCard';\r\nimport ForecastCard from './components/ForecastCard/ForecastCard';\r\nimport TemperatureToggle from './components/TemperatureToggle/TemperatureToggle';\r\nimport FavoriteLocations from './components/FavoriteLocations/FavoriteLocations';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  const [weatherData, setWeatherData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [isCelsius, setIsCelsius] = useState(true);\r\n  const [favorites, setFavorites] = useState([]);\r\n\r\n  // Load favorites from localStorage on mount\r\n  useEffect(() => {\r\n    const savedFavorites = localStorage.getItem('weatherFavorites');\r\n    if (savedFavorites) {\r\n      setFavorites(JSON.parse(savedFavorites));\r\n    }\r\n\r\n    // Get user's location on initial load\r\n    loadUserLocation();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const loadUserLocation = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const coords = await weatherService.getCurrentLocation();\r\n      const data = await weatherService.getWeatherData(`${coords.lat},${coords.lon}`);\r\n      setWeatherData(data);\r\n    } catch (err) {\r\n      // Fallback to default location if geolocation fails\r\n      console.warn('Geolocation failed, using default location');\r\n      handleLocationSearch('New York');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLocationSearch = async (location) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const data = await weatherService.getWeatherData(location);\r\n      setWeatherData(data);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleToggleUnit = () => {\r\n    setIsCelsius(!isCelsius);\r\n  };\r\n\r\n  const handleAddFavorite = (location) => {\r\n    if (favorites.some(fav => fav.name === location.name && fav.region === location.region && fav.country === location.country)) {\r\n      alert('Location already added to favorites');\r\n      return;\r\n    } else {\r\n      const newFavorite = {\r\n        id: Date.now(),\r\n        name: location.name,\r\n        region: location.region,\r\n        country: location.country\r\n      };\r\n\r\n      const updatedFavorites = [...favorites, newFavorite];\r\n      setFavorites(updatedFavorites);\r\n      localStorage.setItem('weatherFavorites', JSON.stringify(updatedFavorites));\r\n    }\r\n  };\r\n\r\n  const handleRemoveFavorite = (id) => {\r\n    const updatedFavorites = favorites.filter(fav => fav.id !== id);\r\n    setFavorites(updatedFavorites);\r\n    localStorage.setItem('weatherFavorites', JSON.stringify(updatedFavorites));\r\n  };\r\n\r\n  const handleSelectFavorite = (favorite) => {\r\n    handleLocationSearch(`${favorite.name}, ${favorite.country}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <header className=\"app-header\">\r\n        <h1>Weather App</h1>\r\n        <TemperatureToggle\r\n          isCelsius={isCelsius}\r\n          onToggle={handleToggleUnit}\r\n        />\r\n      </header>\r\n\r\n      <main className=\"app-main\">\r\n        <SearchBar onSearch={handleLocationSearch} />\r\n\r\n        {loading && <div className=\"loading\">Loading weather data...</div>}\r\n\r\n        {error && <div className=\"error\">{error}</div>}\r\n\r\n        {weatherData && !loading && (\r\n          <>\r\n            <div className=\"weather-container\">\r\n              <WeatherCard\r\n                data={weatherData.current}\r\n                location={weatherData.location}\r\n                isCelsius={isCelsius}\r\n                onAddFavorite={() => handleAddFavorite(weatherData.location)}\r\n              />\r\n\r\n              <ForecastCard\r\n                data={weatherData.forecast.forecastday[1]}\r\n                isCelsius={isCelsius}\r\n              />\r\n            </div>\r\n\r\n            <FavoriteLocations\r\n              favorites={favorites}\r\n              onSelect={handleSelectFavorite}\r\n              onRemove={handleRemoveFavorite}\r\n            />\r\n          </>\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}