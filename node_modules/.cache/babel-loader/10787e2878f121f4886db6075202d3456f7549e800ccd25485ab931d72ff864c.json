{"ast":null,"code":"import axios from 'axios';\nconst API_KEY = process.env.REACT_APP_WEATHER_API_KEY;\nconst BASE_URL = process.env.REACT_APP_WEATHER_API_BASE_URL;\nclass WeatherService {\n  /**\r\n   * Fetch current weather and forecast for a location\r\n   * @param {string} location - City name or coordinates \"lat,lon\"\r\n   * @returns {Promise} Weather data object\r\n   */\n  async getWeatherData(location) {\n    try {\n      const response = await axios.get(`${BASE_URL}/forecast.json?`, {\n        params: {\n          key: `key=${API_KEY}`,\n          q: `&q=${location}`,\n          days: `&days=2`,\n          // Today + tomorrow\n          aqi: `&aqi=no`\n        }\n      });\n      return response.data;\n    } catch (error) {\n      var _error$response, _error$response$data, _error$response$data$;\n      console.error('Error fetching weather data:', error);\n      throw new Error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : (_error$response$data$ = _error$response$data.error) === null || _error$response$data$ === void 0 ? void 0 : _error$response$data$.message) || 'Failed to fetch weather data');\n    }\n  }\n\n  /**\r\n   * Search for locations (autocomplete)\r\n   * @param {string} query - Search query\r\n   * @returns {Promise} Array of matching locations\r\n   */\n  async searchLocations(query) {\n    try {\n      const response = await axios.get(`${BASE_URL}/search.json?`, {\n        params: {\n          key: API_KEY,\n          q: query\n        }\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error searching locations:', error);\n      throw error;\n    }\n  }\n\n  /**\r\n   * Get user's current location using browser geolocation\r\n   * @returns {Promise} Coordinates object {lat, lon}\r\n   */\n  async getCurrentLocation() {\n    return new Promise((resolve, reject) => {\n      if (!navigator.geolocation) {\n        reject(new Error('Geolocation not supported'));\n        return;\n      }\n      navigator.geolocation.getCurrentPosition(position => {\n        resolve({\n          lat: position.coords.latitude,\n          lon: position.coords.longitude\n        });\n      }, error => {\n        reject(error);\n      });\n    });\n  }\n}\nexport default new WeatherService();","map":{"version":3,"names":["axios","API_KEY","process","env","REACT_APP_WEATHER_API_KEY","BASE_URL","REACT_APP_WEATHER_API_BASE_URL","WeatherService","getWeatherData","location","response","get","params","key","q","days","aqi","data","error","_error$response","_error$response$data","_error$response$data$","console","Error","message","searchLocations","query","getCurrentLocation","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","position","lat","coords","latitude","lon","longitude"],"sources":["C:/Users/shant/Documents/weather-app/src/services/weatherService.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_KEY = process.env.REACT_APP_WEATHER_API_KEY;\r\nconst BASE_URL = process.env.REACT_APP_WEATHER_API_BASE_URL;\r\n\r\nclass WeatherService {\r\n    /**\r\n     * Fetch current weather and forecast for a location\r\n     * @param {string} location - City name or coordinates \"lat,lon\"\r\n     * @returns {Promise} Weather data object\r\n     */\r\n    async getWeatherData(location) {\r\n        try {\r\n            const response = await axios.get(`${BASE_URL}/forecast.json?`, {\r\n                params: {\r\n                    key: `key=${API_KEY}`,\r\n                    q: `&q=${location}`,\r\n                    days: `&days=2`, // Today + tomorrow\r\n                    aqi: `&aqi=no`\r\n                }\r\n            });\r\n            return response.data;\r\n        } catch (error) {\r\n            console.error('Error fetching weather data:', error);\r\n            throw new Error(\r\n                error.response?.data?.error?.message || 'Failed to fetch weather data'\r\n            );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Search for locations (autocomplete)\r\n     * @param {string} query - Search query\r\n     * @returns {Promise} Array of matching locations\r\n     */\r\n    async searchLocations(query) {\r\n        try {\r\n            const response = await axios.get(`${BASE_URL}/search.json?`, {\r\n                params: {\r\n                    key: API_KEY,\r\n                    q: query\r\n                }\r\n            });\r\n            return response.data;\r\n        } catch (error) {\r\n            console.error('Error searching locations:', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get user's current location using browser geolocation\r\n     * @returns {Promise} Coordinates object {lat, lon}\r\n     */\r\n    async getCurrentLocation() {\r\n        return new Promise((resolve, reject) => {\r\n            if (!navigator.geolocation) {\r\n                reject(new Error('Geolocation not supported'));\r\n                return;\r\n            }\r\n\r\n            navigator.geolocation.getCurrentPosition(\r\n                (position) => {\r\n                    resolve({\r\n                        lat: position.coords.latitude,\r\n                        lon: position.coords.longitude\r\n                    });\r\n                },\r\n                (error) => {\r\n                    reject(error);\r\n                }\r\n            );\r\n        });\r\n    }\r\n}\r\n\r\nexport default new WeatherService();\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,yBAAyB;AACrD,MAAMC,QAAQ,GAAGH,OAAO,CAACC,GAAG,CAACG,8BAA8B;AAE3D,MAAMC,cAAc,CAAC;EACjB;AACJ;AACA;AACA;AACA;EACI,MAAMC,cAAcA,CAACC,QAAQ,EAAE;IAC3B,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMV,KAAK,CAACW,GAAG,CAAC,GAAGN,QAAQ,iBAAiB,EAAE;QAC3DO,MAAM,EAAE;UACJC,GAAG,EAAE,OAAOZ,OAAO,EAAE;UACrBa,CAAC,EAAE,MAAML,QAAQ,EAAE;UACnBM,IAAI,EAAE,SAAS;UAAE;UACjBC,GAAG,EAAE;QACT;MACJ,CAAC,CAAC;MACF,OAAON,QAAQ,CAACO,IAAI;IACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;MAAA,IAAAC,eAAA,EAAAC,oBAAA,EAAAC,qBAAA;MACZC,OAAO,CAACJ,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACpD,MAAM,IAAIK,KAAK,CACX,EAAAJ,eAAA,GAAAD,KAAK,CAACR,QAAQ,cAAAS,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBF,IAAI,cAAAG,oBAAA,wBAAAC,qBAAA,GAApBD,oBAAA,CAAsBF,KAAK,cAAAG,qBAAA,uBAA3BA,qBAAA,CAA6BG,OAAO,KAAI,8BAC5C,CAAC;IACL;EACJ;;EAEA;AACJ;AACA;AACA;AACA;EACI,MAAMC,eAAeA,CAACC,KAAK,EAAE;IACzB,IAAI;MACA,MAAMhB,QAAQ,GAAG,MAAMV,KAAK,CAACW,GAAG,CAAC,GAAGN,QAAQ,eAAe,EAAE;QACzDO,MAAM,EAAE;UACJC,GAAG,EAAEZ,OAAO;UACZa,CAAC,EAAEY;QACP;MACJ,CAAC,CAAC;MACF,OAAOhB,QAAQ,CAACO,IAAI;IACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZI,OAAO,CAACJ,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;MAClD,MAAMA,KAAK;IACf;EACJ;;EAEA;AACJ;AACA;AACA;EACI,MAAMS,kBAAkBA,CAAA,EAAG;IACvB,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACpC,IAAI,CAACC,SAAS,CAACC,WAAW,EAAE;QACxBF,MAAM,CAAC,IAAIP,KAAK,CAAC,2BAA2B,CAAC,CAAC;QAC9C;MACJ;MAEAQ,SAAS,CAACC,WAAW,CAACC,kBAAkB,CACnCC,QAAQ,IAAK;QACVL,OAAO,CAAC;UACJM,GAAG,EAAED,QAAQ,CAACE,MAAM,CAACC,QAAQ;UAC7BC,GAAG,EAAEJ,QAAQ,CAACE,MAAM,CAACG;QACzB,CAAC,CAAC;MACN,CAAC,EACArB,KAAK,IAAK;QACPY,MAAM,CAACZ,KAAK,CAAC;MACjB,CACJ,CAAC;IACL,CAAC,CAAC;EACN;AACJ;AAEA,eAAe,IAAIX,cAAc,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}